define ("mod_kalvidres/kalvidres_mod_form",["exports","jquery","core/notification","core/pubsub","core/str","core/modal_factory","local_kaltura/modal_video_picker","local_kaltura/modal_video_picker_events"],function(a,b,c,d,e,f,g,h){"use strict";Object.defineProperty(a,"__esModule",{value:!0});a.init=void 0;b=i(b);c=i(c);f=i(f);g=i(g);h=i(h);function i(a){return a&&a.__esModule?a:{default:a}}function j(a,b,c,d,e,f,g){try{var h=a[f](g),i=h.value}catch(a){c(a);return}if(h.done){b(i)}else{Promise.resolve(i).then(d,e)}}function k(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){var h=a.apply(b,c);function f(a){j(h,d,e,f,g,"next",a)}function g(a){j(h,d,e,f,g,"throw",a)}f(void 0)})}}var l={OPEN_VIDEO_PICKER:"#id_add_media",ENTRY_ID:"#entry_id",VIDEO_TITLE:"#video_title",ENTRY_THUMBNAIL:"#media_thumbnail",SELECTED_ENTRY_HEADER:"[data-region=\"selected-entry-header\"]"},m=function(){var a=k(regeneratorRuntime.mark(function a(b,d,e,h){var i;return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:a.prev=0;a.next=3;return f.default.create({type:g.default.getType()});case 3:i=a.sent;i.contextid=b;i.selectedEntryId=d;i.selectedEntryName=e;i.selectedEntryThumbnail=h;n(i);a.next=14;break;case 11:a.prev=11;a.t0=a["catch"](0);c.default.exception(a.t0);case 14:case"end":return a.stop();}}},a,null,[[0,11]])}));return function(){return a.apply(this,arguments)}}();a.init=m;var n=function(a){(0,b.default)(l.OPEN_VIDEO_PICKER).on("click",function(){a.show()});(0,d.subscribe)(h.default.entrySelected,function(){var a=k(regeneratorRuntime.mark(function a(c){var d;return regeneratorRuntime.wrap(function(a){while(1){switch(a.prev=a.next){case 0:(0,b.default)(l.ENTRY_ID).val(c.entryId);(0,b.default)(l.ENTRY_THUMBNAIL).attr("src",c.entryThumbnail);(0,b.default)(l.VIDEO_TITLE).val(c.entryName);a.next=5;return(0,e.get_string)("selected_entry","local_kaltura",c.entryName);case 5:d=a.sent;(0,b.default)(l.SELECTED_ENTRY_HEADER).text(d);case 7:case"end":return a.stop();}}},a)}));return function(){return a.apply(this,arguments)}}())}});
//# sourceMappingURL=kalvidres_mod_form.min.js.map
